using System.Reflection;
using System.Text;
using static SDL2.SDL;
namespace Dysgenesis
{
    public static class Data
    {
        public const string W_TITLE = "Dysgenesis";
        public static short W_HAUTEUR = 1080;
        public static short W_LARGEUR = 1920;
        public static short W_SEMI_HAUTEUR = 540;
        public static short W_SEMI_LARGEUR = 960;

        public const short G_FPS = 60;
        public const byte G_DEPTH_LAYERS = 50;

        public const float P_FRICTION = 0.9f;
        public const float P_PITCH_FRICTION = 0.95f;
        public const float P_ROLL_FRICTION = 0.95f;
        public const float P_SPEED = 1f;
        public const float P_ROLL_SPEED = 0.05f;
        public const float P_PITCH_SPEED = 0.05f;
        public const float P_MAX_PITCH = 0.5f;
        public const float P_MAX_ROLL = 1f;
        public const byte P_WIDTH = 50;
        public const byte P_HEIGHT = 20;
        public const float P_PERMA_PITCH = 0.3f;
        public const float P_PROJ_SPEED = 0.9f;
        public const byte P_SHOOTING_COOLDOWN = 25;

        public const short S_DENSITY = 100;
        public const byte S_SPAWN_RADIUS = 100;
        public const float S_SPEED = 1.02f;

        public const byte E_AVG_SPEED = 8;
        public const float E_AVG_Z_SPEED = 0.125f;
        public const float E_FRICTION = 0.9f;
        public const byte E_15_MAX_HP = 150;

        public const byte BP_MAX_HP = 50;

        // Y INVERSE, pas x, z: + = vers caméra
        public static sbyte[,] MODELE_P = new sbyte[57, 3] {
            {-50,0,0}, // rouge
            {-46,-2,-50}, // orange
            {-46,0,-2}, // vomi
            {-46,-4,-2}, // -vomi
            {-46,0,-2}, // vomi
            {-10,5,-5}, // vert pâle
            {-10,-5,-5}, // -vert pâle
            {-10,5,-5}, // vert pâle
            {-5,5,-15}, // rose
            {-5,0,-15}, // -rose
            {-5,5,-15}, // rose
            {5,5,-15}, // rose
            {5,0,-15}, // -rose
            {5,5,-15}, // rose
            {10,5,-5}, // vert pâle
            {46,0,-2}, // vomi
            {46,-2,-50}, // orange
            {50,0,0}, // rouge
            {50,-5,0}, // rouge 2
            {13,-10,10}, // bleu
            {15,-9,20}, // mauve
            {4,10,10}, // vert foncé
            {13,-10,10}, // bleu
            {15,-9,20}, // mauve
            {0,-15,20}, // bleh
            {-15,-9,20}, // mauve
            {-4,10,10}, // vert foncé
            {-13,-10,10}, // bleu
            {-15,-9,20}, // mauve
            {-13,-10,10}, // bleu
            {-50,-5,0}, // rouge 2
            {-50,0,0}, // rouge
            {-50,-5,0}, // rouge 2
            {-46,-2,-50}, // orange
            {-46,-4,-2}, // -vomi
            {-10,-5,-5}, // -vert pâle
            {-5,0,-15}, // -rose
            {5,0,-15}, // -rose
            {10,-5,-5}, // -vert pâle
            {46,-4,-2}, // -vomi
            {46,-2,-50}, // orange
            {50,-5,0}, // rouge 2
            {50,0,0}, // rouge
            {10,5,10}, // -bleu
            {4,10,10}, // vert foncé
            {2,10,10}, // l'autre
            {1,15,10}, // bleu pâle
            {-1,15,10}, // bleu pâle
            {1,15,10}, // bleu pâle
            {0,15,25}, // jaune
            {0,-15,20}, // bleh
            {0,15,25}, // jaune
            {-1,15,10}, // bleu pâle
            {-2,10,10}, // l'autre
            {-4,10,10}, // vert foncé
            {-10,5,10}, // -bleu
            {-50,0,0} // rouge
        };

        public static sbyte[,] MODELE_A = new sbyte[7, 2]
        {
            { -25, -10},
            { 0, 30},
            { 25, -10},
            { 0, 0},
            { 0, 30},
            { 0, 0},
            { -25, -10}
        };

        public static sbyte[,] MODELE_E1 = new sbyte[19, 3]{
            { 0, 0, -20 },
            { -16, 0, 10 },
            { 16, 0, 10 },
            { 0, 0, -20 },
            { 0, 30, 0 },
            { -16, 0, 10 },
            { 0, 30, 0 },
            { 16, 0, 10 },
            { 0, -30, 0 },
            { 0, 0, -20 },
            { -16, 0, 10 },
            { 0, -30, 0 },
            { -5, -5, 0 },
            { 0, -2, 0 },
            { 5, -5, 0 },
            { 0, -8, 0 },
            { -5, -5, 0 },
            { 0, -5, 0 },
            { 0, -5, 0 }
        };
        public static sbyte[,] MODELE_E2 = new sbyte[67, 3]{
            { -30, 0, 0 },
            { -15, 0, 26 },
            { 0, -50, 0 },
            { -30, 0, 0 },
            { -15, 0, -26 },
            { 0, -50, 0 },
            { 15, 0, -26 },
            { -15, 0, -26 },
            { 15, 0, -26 },
            { 30, 0, 0 },
            { 0, -50, 0 },
            { 15, 0, 26 },
            { 30, 0, 0 },
            { 15, 0, 26 },
            { -15, 0, 26 },
            { -12, 10, 21 },
            { -25, 10, 0 },
            { -30, 0, 0 },
            { -25, 10, 0 },
            { -12, 10, -21 },
            { -15, 0, -26 },
            { -12, 10, -21 },
            { 12, 10, -21 },
            { 15, 0, -26 },
            { 12, 10, -21 },
            { 25, 10, 0 },
            { 30, 0, 0 },
            { 25, 10, 0 },
            { 12, 10, 21 },
            { 15, 0, 26 },
            { 12, 10, 21 },
            { -12, 10, 21 },
            { -12, 10, 3 },
            { -12, 10, -3 },
            { -17, 10, 0 },
            { -20, 18, 0 },
            { -15, 18, 3 },
            { -12, 10, 3 },
            { -15, 18, 3 },
            { -15, 18, -3 },
            { -12, 10, -3 },
            { -15, 18, -3 },
            { -20, 18, 0 },
            { -5, 23, 0 },
            { -15, 18, -3 },
            { -5, 23, 0 },
            { -15, 18, 3 },
            { -12, 10, 3 },
            { -12, 10, 21 },
            { 12, 10, 21 },
            { 12, 10, 3 },
            { 12, 10, -3 },
            { 17, 10, 0 },
            { 20, 18, 0 },
            { 15, 18, 3 },
            { 12, 10, 3 },
            { 15, 18, 3 },
            { 15, 18, -3 },
            { 12, 10, -3 },
            { 15, 18, -3 },
            { 20, 18, 0 },
            { 5, 23, 0 },
            { 15, 18, -3 },
            { 5, 23, 0 },
            { 15, 18, 3 },
            { 12, 10, 3 },
            { 12, 10, 21 }
        };
        public static sbyte[,] MODELE_E3 = new sbyte[27, 3]{
            { -50, 0, 0 },
            { -50, 10, 40 },
            { -45, 0, 0 },
            { -50, 0, 0 },
            { -20, 10, -10 },
            { -20, -10, -10 },
            { 20, -10, -10 },
            { 20, -10, 10 },
            { 50, 0, 0 },
            { 50, 10, 40 },
            { 45, 0, 0 },
            { 50, 0, 0 },
            { 20, -10, -10 },
            { 20, 10, -10 },
            { -20, 10, -10 },
            { -20, 10, 10 },
            { 20, 10, 10 },
            { 20, 10, -10 },
            { 50, 0, 0 },
            { 20, 10, 10 },
            { 20, -10, 10 },
            { -20, -10, 10 },
            { -50, 0, 0 },
            { -20, 10, 10 },
            { -20, -10, 10 },
            { -20, -10, -10 },
            { -50, 0, 0 }
        };
        public static sbyte[,] MODELE_E5 = new sbyte[83, 3]{
            { -15, -45, 10},
            { -10, -30, 10},
            { -25, -30, 50},
            { -15, -45, 10 },
            { -40, -30, 10 },
            { -25, -30, 50 },
            { -25, -20, 10 },
            { -10, -30, 10 },
            { -25, -20, 10 },
            { -40, -30, 10 },
            { -50, 0, 10 },
            { -40, 30, 10 },
            { -15, 50, 10 },
            { 15, 50, 10 },
            { 40, 30, 10 },
            { 50, 0, 10 },
            { 40, -25, 10 },
            { 15, -45, 10 },
            { 25, -30, 50 },
            { 40, -25, 10 },
            { 25, -20, 10 },
            { 25, -30, 50 },
            { 10, -30, 10 },
            { 15, -45, 10 },
            { 10, -30, 10 },
            { 25, -20, 10 },
            { 35, 0, 10 },
            { 25, 20, 10 },
            { 10, 30, 10 },
            { 0, 10, 0 },
            { -10, 30, 10 },
            { -25, 20, 10 },
            { -35, 0, 10 },
            { -25, -20, 10 },
            { -25, -20, -10 },
            { -10, -30, -10 },
            { -10, -30, 10 },
            { -10, -30, -10 },
            { -15, -45, -10 },
            { -15, -45, 10 },
            { -15, -45, -10 },
            { -40, -30, -10 },
            { -40, -30, 10 },
            { -40, -30, -10 },
            { -25, -20, -10 },
            { -35, 0, -10 },
            { -25, 20, -10 },
            { -10, 30, -10 },
            { 0, 10, 0 },
            { -15, -10, -15 },
            { 15, -10, -15 },
            { 0, 10, 0 },
            { 15, -10, 15 },
            { 15, -10, -15 },
            { 15, -10, 15 },
            { -15, -10, 15 },
            { -15, -10, -15 },
            { -15, -10, 15 },
            { 0, 10, 0 },
            { 10, 30, -10 },
            { 25, 20, -10 },
            { 35, 0, -10 },
            { 25, -20, -10 },
            { 40, -30, -10 },
            { 25, -20, -10 },
            { 25, -20, 10 },
            { 25, -20, -10 },
            { 10, -30, -10 },
            { 10, -30, 10 },
            { 10, -30, -10 },
            { 15, -45, -10 },
            { 15, -45, 10 },
            { 15, -45, -10 },
            { 40, -30, -10 },
            { 40, -30, 10 },
            { 40, -30, -10 },
            { 50, 0, -10 },
            { 40, 30, -10 },
            { 15, 50, -10 },
            { -15, 50, -10 },
            { -40, 30, -10 },
            { -50, 0, -10 },
            { -40, -30, -10 }
        };
        public static sbyte[,] MODELE_E6 = new sbyte[7, 3]
        {
            { -25, 0, 0 },
            { 0, 10, 0 },
            { 25, 0, 0 },
            { 0, 10, -30 },
            { 0, 10, 0 },
            { 0, 10, -30 },
            { -25, 0, 0 }
        };
        public static sbyte[,] MODELE_E7 = new sbyte[9, 3]{
            { 0, -20, 0},
            { 40, 0, 0},
            { 0, 20, 0},
            { -40, 0, 0 },
            { 0, -20, 0 },
            { 10, 0, 0 },
            { 0, 20, 0 },
            { -10, 0, 0 },
            { 0, -20, 0 }
        };
        public static sbyte[,] MODELE_E7_1 = new sbyte[4, 3]{
            { 0, -10, 0 },
            { -8, 6, 0 },
            { 8, 6, 0 },
            { 0, -10, 0 }
        };

        public static sbyte[,] MODELE_I1 = new sbyte[31, 2] {
            { -5, -10 },
            { -15, -10 },
            { -20, -5 },
            { -5, -5 },
            { -5, -20 },
            { 0, -25 },
            { 10, -25 },
            { 5, -20 },
            { -5, -20 },
            { 5, -20 },
            { 5, -5 },
            { 20, -5 },
            { 25, -10 },
            { 10, -10 },
            { 10, -25 },
            { 10, -10 },
            { 25, -10 },
            { 25, 0 },
            { 20, 5 },
            { 20, -5 },
            { 20, 5 },
            { 5, 5 },
            { 5, 20 },
            { 10, 15 },
            { 10, 5 },
            { 10, 15 },
            { 5, 20 },
            { -5, 20 },
            { -5, 5 },
            { -20, 5 },
            { -20, -5 }
        };
        public static sbyte[,] MODELE_I3 = new sbyte[28, 2] {
            { -19, 22},
            { -70, 0},
            { -19, -22 },
            { -19, 22 },
            { -30, 12 },
            { -30, -12 },
            { -12, -30 },
            { 12, -30 },
            { 19, -22 },
            { 70, 0 },
            { 19, 22 },
            { 70, 0 },
            { 19, -22 },
            { 30, -12 },
            { 30, 12 },
            { 12, 30 },
            { -12, 30 },
            { -19, 22 },
            { -14, -6 },
            { -8, 6 },
            { -8, -6 },
            { -14, 6 },
            { -4, -12 },
            { 10, -12 },
            { 10, 0 },
            { -4, 0 },
            { -4, 12 },
            { 10, 12 }
         };
        public static sbyte[,] MODELE_I4 = new sbyte[29, 2] { 
            { -19, 22 },
            { -70, 0 },
            { -19, -22 },
            { -19, 22 },
            { -30, 12 },
            { -30, -12 },
            { -12, -30 },
            { 12, -30 },
            { 19, -22 },
            { 70, 0 },
            { 19, 22 },
            { 70, 0 },
            { 19, -22 },
            { 30, -12 },
            { 30, 12 },
            { 12, 30 },
            { -12, 30 },
            { -19, 22 },
            { -14, -6 },
            { -8, 6 },
            { -8, -6 },
            { -14, 6 },
            { -4, -12 },
            { 10, -12 },
            { 10, 0 },
            { -4, 0 },
            { 10, 0 },
            { 10, 12 },
            { -4, 12 }
        };
        public static sbyte[,] MODELE_I5 = new sbyte[32, 2] { 
            { -19, 22 },
            { -70, 0 },
            { -19, -22 },
            { -70, 0 },
            { -19, 22 },
            { -30, 12 },
            { -30, -12 },
            { -12, -30 },
            { 12, -30 },
            { 19, -22 },
            { 70, 0 },
            { 19, 22 },
            { 70, 0 },
            { 19, -22 },
            { 30, -12 },
            { 30, 12 },
            { 12, 30 },
            { -12, 30 },
            { -19, 22 },
            { -16, 0 },
            { -4, 0 },
            { 0, -4 },
            { 0, -16 },
            { 16, 0 },
            { 4, 0 },
            { 0, 4 },
            { 0, 16 },
            { 0, 10 },
            { -10, 0 },
            { 0, -10 },
            { 10, 0 },
            { 0, 10 }
        };
        public static sbyte[,] MODELE_I6 = new sbyte[29, 2] {
            { -19, 22 },
            { -70, 0 },
            { -19, -22 },
            { -70, 0 },
            { -19, 22 },
            { -30, 12 },
            { -30, -12 },
            { -12, -30 },
            { 12, -30 },
            { 19, -22 },
            { 70, 0 },
            { 19, 22 },
            { 70, 0 },
            { 19, -22 },
            { 30, -12 },
            { 30, 12 },
            { 12, 30 },
            { -12, 30 },
            { -19, 22 },
            { -16, -10 },
            { -10, 10 },
            { -4, -10 },
            { -10, -10 },
            { -10, 10 },
            { 4, -10 },
            { 10, 10 },
            { 16, -10 },
            { 10, -10 },
            { 10, 10 },
        };
        public static sbyte[,] MODELE_I7 = new sbyte[25, 2] { 
            { -19, 22 },
            { -70, 0 },
            { -19, -22 },
            { -70, 0 },
            { -19, 22 },
            { -30, 12 },
            { -30, -12 },
            { -12, -30 },
            { 12, -30 },
            { 19, -22 },
            { 70, 0 },
            { 19, 22 },
            { 70, 0 },
            { 19, -22 },
            { 30, -12 },
            { 30, 12 },
            { 12, 30 },
            { -12, 30 },
            { -19, 22 },
            { -6, 20 },
            { 6, 12 },
            { -6, 4 },
            { 6, -4 },
            { -6, -12 },
            { 6, -20 },
        };
        public static void TailleEcran()
        {
            SDL_DisplayMode mode;
            SDL_GetCurrentDisplayMode(0, out mode);
            W_HAUTEUR = (short)mode.h;
            W_LARGEUR = (short)mode.w;
            W_SEMI_HAUTEUR = (short)(W_HAUTEUR / 2);
            W_SEMI_LARGEUR = (short)(W_LARGEUR / 2);
        }
    }

    public static class SaveLoad
    {
        public static void Save()
        {
            using (FileStream sw = File.Open(@"save.txt", FileMode.OpenOrCreate, FileAccess.ReadWrite, FileShare.ReadWrite))
            {
                string encoded = (Program.level * 842593 + 395248).ToString();
                sw.Write(Encoding.UTF8.GetBytes(encoded));
                sw.Close();
            }
        }
        public static void Load()
        {
            string read = File.ReadAllText(@"save.txt");
            UInt32.TryParse(read, out uint num);
            if (num.ToString() == read && read != "0")
            {
                double check = (num - 395248) / 824593;
                if (!(check >= 0 && check <= 20 && check % 1 == 0))
                {
                    return;
                }
            }
            else
            {
                return;
            }
            Program.nv_continue = (ushort)((num - 395248) / 842593);
        }
    }
}